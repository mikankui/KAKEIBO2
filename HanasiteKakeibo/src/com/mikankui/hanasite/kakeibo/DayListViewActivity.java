package com.mikankui.hanasite.kakeibo;import java.util.ArrayList;import java.util.List;import android.app.ListActivity;import android.content.Intent;import android.os.Bundle;import android.view.View;import android.view.View.OnClickListener;import android.widget.AdapterView;import android.widget.Button;import android.widget.TextView;import android.widget.AdapterView.OnItemClickListener;import com.mikankui.hanasite.kakeibo.db.DbQuery;public class DayListViewActivity extends ListActivity implementsOnItemClickListener, OnClickListener {	private DayListMemberAdapter adapter;	private List<RowItem> items;	private TextView dayPicker;	private TextView daySum;	private Button next_day;	private Button back_day;	private Button move_monthListView;	private DbQuery q;	private String unit;	@Override	public void onCreate(Bundle savedInstanceState) {		super.onCreate(savedInstanceState);		setContentView(R.layout.day_listview);		unit = getString(R.string.unit).toString();		q = new DbQuery();		items = new ArrayList<RowItem>();		// year picker		dayPicker = (TextView) findViewById(R.id.dayPicker);		dayPicker.setText("" + TargetDate.getYear() + "/"				+ TargetDate.getMonth() + "/"				+ TargetDate.getDay());		// year sum		daySum = (TextView) findViewById(R.id.daySum);		// next and prev Buttom		next_day = (Button) findViewById(R.id.next_day);		next_day.setOnClickListener(this);		back_day = (Button) findViewById(R.id.back_day);		back_day.setOnClickListener(this);		move_monthListView = (Button) findViewById(R.id.move_monthList);		move_monthListView.setOnClickListener(this);		// calc this year		redraw();	}	private void setOnItemClickListener(			YearListViewActivity mainListViewActivity) {		// TODO 自動生成されたメソッド・スタブ	}	@Override	public void onItemClick(AdapterView<?> arg0, View arg1, int arg2, long arg3) {		// TODO 自動生成されたメソッド・スタブ	}	@Override	public void onClick(View v) {		switch (v.getId()) {		case R.id.next_day:			TargetDate.nextDay();			dayPicker.setText("" + TargetDate.getYear() + "/"					+ TargetDate.getMonth() + "/"					+ TargetDate.getDay());			redraw();			break;		case R.id.back_day:			TargetDate.backDay();			dayPicker.setText("" + TargetDate.getYear() + "/"					+ TargetDate.getMonth()+ "/"					+ TargetDate.getDay());			redraw();			break;		case R.id.move_monthList:			Intent intent = new Intent(this, MonthListViewActivity.class);			intent.setAction(Intent.ACTION_VIEW);			startActivity(intent);			overridePendingTransition(R.anim.push_right_in,					R.anim.push_right_out);		}	}	private void redraw() {		items.clear();		q = new DbQuery();		int sum = 0;				items = q.getDayList("kira", ""+TargetDate.getYear(), ""+TargetDate.getMonth(), ""+TargetDate.getDay());		for(RowItem i :items){			sum = sum + Integer.parseInt(i.getRowValue());		}				daySum.setText(unit + " " + sum);		adapter = new DayListMemberAdapter(this, items);		setListAdapter(adapter);	}}